<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="container">
        <div class="row">
            <h1>Listado de Algoritmos con Niveles de Dificultad</h1>
            <div class="imagen"></div>
            <p>Aprender y practicar algoritmos es clave para cualquier desarrollador backend. No solo mejora tus
                habilidades t√©cnicas, sino que tambi√©n te ayuda a resolver problemas m√°s r√°pido y escribir c√≥digo m√°s
                eficiente.</p>

            <h2>¬øPor qu√© son importantes los algoritmos en backend?</h2>

            <ul>
                <li><strong>Mejor rendimiento:</strong> Un buen algoritmo hace que las aplicaciones sean m√°s r√°pidas y
                    optimizadas.</li>
                <li><strong>Soluci√≥n de problemas:</strong> Te da herramientas para enfrentar desaf√≠os en el desarrollo.
                </li>
                <li><strong>Aprendizaje m√°s f√°cil:</strong> Facilita el uso de nuevos lenguajes y tecnolog√≠as.</li>
                <li><strong>Toma de decisiones:</strong> Ayuda a elegir la mejor soluci√≥n para cada problema.</li>
                <li><strong>Entrevistas t√©cnicas:</strong> Muchas empresas eval√∫an tu conocimiento en algoritmos.</li>
            </ul>

            <p>En backend, los algoritmos tambi√©n mejoran la gesti√≥n de bases de datos, la seguridad y la eficiencia del
                servidor. Invertir tiempo en aprenderlos har√° que tu c√≥digo sea m√°s escalable y profesional.</p>

        </div>
    </div>
    <div id="algoritmos-container"></div>

    <script>
        // Definir la jerarqu√≠a de niveles
        const jerarquiaNiveles = {
            'freshman': 1,
            'sophomore': 2,
            'junior': 3,
            'semi senior': 4,
            'senior': 5,
            'avanzado': 6,
            'gerente': 7
        };

        const checkboxesASeleccionar = ['checkbox-0', 'checkbox-3'];

        // Fetch the JSON data from a local file or API endpoint
        fetch('https://gist.githubusercontent.com/darwinyusef/ddd28f74e82d50f36443be576cc0b13e/raw/905253656edb564fd33226921ca55ba81ba07e5d/algoritmoinfo.json')
            .then(response => response.json())
            .then((data) => {

                // Ordenar el array 'data' seg√∫n la jerarqu√≠a de niveles
                data.sort((a, b) => {
                    return jerarquiaNiveles[a.nivel.toLowerCase()] - jerarquiaNiveles[b.nivel.toLowerCase()];
                });

                // Example: Print each algorithm's name, level, and category
                data.forEach((algoritmo, index) => {
                    console.log(algoritmo);
                    const algElement = document.createElement('div');
                    algElement.classList.add('algoritmo');

                    algElement.innerHTML = `
                        <div id="checkbox-${index}" class="checkbox-container">
                        <input type="checkbox" id="checkbox-${algoritmo.nombre.replace(/\s+/g, '-').toLowerCase()}">
                        </div>
                        <h3>${algoritmo.nombre}</h3>
                        <p class="algoritmo-level"><strong>Nivel:</strong> <span>${algoritmo.nivel.toUpperCase()}</span></p>
                        <p><strong>Categor√≠a:</strong> ${algoritmo.categoria}</p>
                        ${ algoritmo.url || algoritmo.url != "" ? `<a href="${algoritmo.url}"> Enlace </a>` : ''}`;

                    document.getElementById('algoritmos-container').appendChild(algElement);
                });
            })
            .then(() => {
                const algoritmos = document.querySelectorAll('.algoritmo');

                // Iterar sobre cada elemento
                algoritmos.forEach(algoritmo => {
                    // Obtener el elemento <h3>
                    const titulo = algoritmo.querySelector('h3');
                    // Obtener el nivel del algoritmo
                    const nivel = obtenerNivel(algoritmo)
                    // Obtener el emoji correspondiente al nivel
                    const emoji = obtenerEmojiPorNivel(nivel);
                    // Prepend el emoji al contenido del t√≠tulo
                    titulo.textContent = `${emoji} ${titulo.textContent}`;
                });
            }).then(() => {
                const algoritmos = document.querySelectorAll('.algoritmo');

                // Iterar sobre cada elemento
                algoritmos.forEach(algoritmo => {
                    let hijo = algoritmo.firstElementChild
                    hijo.hasAttribute('id')
                    if (hijo.hasAttribute('id')) {
                        if (checkboxesASeleccionar.includes(hijo.getAttribute('id'))) {
                            let check = document.getElementById(hijo.getAttribute('id'))
                            check.firstElementChild.checked = true;
                        }
                    }
                })
            })
            .catch(error => {
                console.error('Error fetching the algorithms:', error);
            });
    </script>

    <script>
        function obtenerNivel(algoritmo) {
            const nivelTexto = algoritmo.querySelector('p').textContent;
            return nivelTexto.replace('Nivel:', '').trim().toLowerCase();
        }

        function obtenerEmojiPorNivel(nivel) {
            switch (nivel.toLowerCase()) {
                case 'freshman':
                    return 'üê£'; // Emoji para nivel freshman
                case 'sophomore':
                    return 'üê•'; // Emoji para nivel sophomore
                case 'junior':
                    return 'ü§ì'; // Emoji para nivel junior
                case 'semi senior':
                    return 'üê±‚Äçüíª'; // Emoji para nivel senior
                case 'senior':
                    return 'üëΩ'; // Emoji para nivel senior 
                case 'avanzado':
                    return 'üë§'; // Emoji para nivel senior                   
                default:
                    return 'üê±‚Äçüë§'; // Emoji para nivel desconocido
            }
        }

    </script>

</body>

</html>
